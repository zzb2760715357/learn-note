### 第一章 简介和概述
1、unix操作系统中有两种创建新进程的机制  
1.1 fork可以创建当前进程的一个副本，父进程和子进程只有PID不同  
1.2 exec将一个新程序加载到当前的内存中并执行  
1.3 内存区域是通过指针寻址的，因此CPU的字长决定了所能管理的地址空间的最大长度  
1.4 虚拟地址空间：地址空间的最大长度与实际可用的物理内存数量无关，因此被称为虚拟地址空间.虚拟地址分成两部分：内核空间（TASK_SIZE-2^32）和用户空间(0-TASK_SIZE)  
1.5 Linux只使用两种不同的状态，核心态和用户态。  
1.6 页表:用来将虚拟地址空间映射到物理地址空间的数据结构称为页表。  
1.7 Linux内核采用四级页表,虚拟地址：PGD+PMD+PTE+offset,全局页表、中间页表、页表、页帧 
PGD:用于索引进程中的一个数组。  
PTE:虚拟内存页和页帧之间的映射。  
offset:指定页内部的一个字节位置.  
优点：对虚拟地址空间中不需要的区域，不必创建中间页目录或页表。  
缺点：每次访问内存时，必须逐级访问多个数组才能将虚拟地址转换为物理地址。CPU中有一个专门的部分称为MMU,优化内存的访问操作。地址转换中出现最频繁的那些地址保存在TLB中。

1.8 物理内存的分配  
伙伴系统:作用快速检测内存中连续的区域。内核对所有大小相同的伙伴，都放置到同一个列表中管理。  
![伙伴系统](https://github.com/zzb2760715357/Picture/blob/master/1-%E6%B7%B1%E5%85%A5Linux%E5%86%85%E6%A0%B8%E6%9E%B6%E6%9E%84/%E7%AC%AC%E4%B8%80%E7%AB%A0/1.jpg)
